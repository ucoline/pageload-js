/*
 Page load - jQuery library
 URL: https://github.com/ucoder92/pageload-js
 Version: 1.2.7
 */
var _pageLoadConfigs={active:!0,selector:"a",formSelector:"form",excludeJS:[],excludeForm:[],excludeElement:['[page-load-exclude="1"]','[page-load-exclude="true"]'],beforeRun:null,beforeSend:null,onClick:null,onLoad:null,onSuccess:null,onError:null,onPopstate:null,scrollToTop:!0},pageLoadInit=function(e){null!=e.active&&!1===e.active&&(_pageLoadConfigs.active=!1),null!=e.selector&&""!=e.selector&&(_pageLoadConfigs.selector=e.selector),null!=e.scrollToTop&&(_pageLoadConfigs.scrollToTop=e.scrollToTop),null!=e.formSelector&&""!=e.formSelector&&(_pageLoadConfigs.formSelector=e.formSelector),null!=e.excludeForm&&e.excludeForm.length>0&&(_pageLoadConfigs.excludeForm=e.excludeForm),null!=e.excludeJS&&e.excludeJS.length>0&&(_pageLoadConfigs.excludeJS=e.excludeJS),null!=e.excludeElement&&e.excludeElement.length>0&&(e.excludeElement.push('[page-load-exclude="1"]'),e.excludeElement.push('[page-load-exclude="true"]'),_pageLoadConfigs.excludeElement=e.excludeElement),null!=e.beforeRun&&"function"==typeof e.beforeRun&&(_pageLoadConfigs.beforeRun=e.beforeRun),null!=e.beforeSend&&"function"==typeof e.beforeSend&&(_pageLoadConfigs.beforeSend=e.beforeSend),null!=e.onClick&&"function"==typeof e.onClick&&(_pageLoadConfigs.onClick=e.onClick),null!=e.onLoad&&"function"==typeof e.onLoad&&(_pageLoadConfigs.onLoad=e.onLoad),null!=e.onSuccess&&"function"==typeof e.onSuccess&&(_pageLoadConfigs.onSuccess=e.onSuccess),null!=e.onError&&"function"==typeof e.onError&&(_pageLoadConfigs.onError=e.onError),null!=e.onPopstate&&"function"==typeof e.onPopstate&&(_pageLoadConfigs.onPopstate=e.onPopstate)},pageLoadPushUrl=function(e){var n=e.url,o=e.pathname;if(null!=n&&""!=n){var t=new URL(n);o=t.pathname,null!=t.search&&""!=t.search&&(o+=t.search),null!=t.hash&&""!=t.hash&&(o+=t.hash)}if(null!=o&&""!=o){var a="<!DOCTYPE html>\r\n"+$("html")[0].outerHTML;window.history.pushState({data:a,href:o},"",o)}},pageLoadClickTheUrl=function(e){if($("#page_load_temp_link_for_click").remove(),null!=e&&""!=e){var n=$("<a />");n.attr("href",e),n.attr("style","display:none"),n.attr("id","page_load_temp_link_for_click"),$("body").append(n),$("#page_load_temp_link_for_click").trigger("click")}};(function(e){function n(){null!=i&&null!==i&&i.abort()}function o(){return!1!==_pageLoadConfigs.active&&(("undefined"==typeof deactivatePageLoad||!0!==deactivatePageLoad)&&("undefined"===window.deactivatePageLoad||!0!==window.deactivatePageLoad))}function t(e,n,o=!0){o&&(n.innerHTML="");let t=document.createElement("div");t.innerHTML=e;let a=t.childNodes;for(let e=0;e<a.length;e++)n.appendChild(a[e].cloneNode(!0));return!0}function a(n){var o={},t=document.createElement("div");t.innerHTML=n;var a=e(t).find("script");if(null!=a&&a.length>0){var l=0;a.each(function(){l++;var t=Math.floor(1e4*Math.random()),a="page-load-script-id-"+l+"-"+t,r='<div id="'+a+'" style="display:none;opacity:0;visibility:hidden;"></div>';o[a]=e(this),n=n.replace(e(this).prop("outerHTML"),r)})}return{list:o,html:n}}function l(n){var o=[];return e.each(n,function(n,t){var a=e("#"+n),l=t.attr("src"),i=t.attr("type"),u=t.text(),s=document.createElement("script");if(null!=i&&""!=i&&(s.type=i),null!=l&&""!=l){var c=r(l);200==c.status?(o.push(c),s.setAttribute("data-ajax-src",l)):s.src=l}null!=u&&""!=u&&(s.innerHTML=u),a[0].after(s),a.remove()}),o}function r(n,o){var t=e.ajax({url:n,dataType:"script",success:o,async:!1,cache:!0});return{status:t.status,action:t.statusText,code:t.responseText}}var i=null;e(document).ready(function(){if(o()){var n=window.location.href,t="<!DOCTYPE html>\r\n"+e("html")[0].outerHTML;window.history.pushState({data:t,href:n},"",n),u()}}),window.onpopstate=function(e){if(o()){if(null!=e.state){var n=e.state.data,t=e.state.href;null!=n&&""!=n&&null!=t&&""!=t&&c(n,t,!1)}null!=_pageLoadConfigs.onPopstate&&null!==_pageLoadConfigs.onPopstate&&_pageLoadConfigs.onPopstate(e)}};var u=function(){var n=window.location.host;null!=_pageLoadConfigs.selector&&""!=_pageLoadConfigs.selector&&e(document).on("click",_pageLoadConfigs.selector,function(t){if(o()){var a=e(this).attr("href"),l=e(this).attr("page-load-disable"),r=e(this).attr("page-load-scroll-to-top"),i=e(this).attr("target");if(e(this).attr("page-load-click",!0),null!=_pageLoadConfigs.onClick&&null!==_pageLoadConfigs.onClick&&_pageLoadConfigs.onClick(e(this),a,t),null!=l&&("true"==l||"1"==l||!0===l))return!0;if(null==r||"false"!=r&&"0"!=l&&!1!==l||(_pageLoadConfigs.scrollToTop=!1),null!=i&&"_blank"==i.toLowerCase())return!0;if(t.ctrlKey)return!0;if(null!=a&&""!=a&&"#"!=a&&"#"!=a.charAt(0)){if(null!=_pageLoadConfigs.beforeRun&&null!==_pageLoadConfigs.beforeRun&&_pageLoadConfigs.beforeRun(e(this),a,t),"undefined"!==window.stopPageLoad&&!0===window.stopPageLoad)return!1;var u="",c=a.charAt(0);if("#"!=c){var f=document.createElement("a");f.href=a,u=f.href}if(null!=u&&""!=u){var p=!1,h=new URL(u);if(null!=h){var g=d(h.pathname),m=h.host.replace("www.",""),L=n.replace("www.","");null!=g&&""!=g?p=!1:m==L&&(p=!0)}if(p){var v=window.location.protocol+"//"+window.location.host+h.pathname+h.search;return s(v),!1}}window.location.href=a}}}),null!=_pageLoadConfigs.formSelector&&""!=_pageLoadConfigs.formSelector&&e(document).on("submit",_pageLoadConfigs.formSelector,function(n){var t=!0,a=f(e(this));if(a.length>0&&_pageLoadConfigs.excludeForm.length>0&&e.each(a,function(e,n){var o=_pageLoadConfigs.excludeForm.findIndex(e=>e===n);o>-1&&(t=!1)}),o()&&t){n.preventDefault();var l=e(this),r=l.serializeArray(),i=l.attr("action"),u=l.attr("method"),c="GET",d=window.location.href;if(null!=i&&""!=i){var p=document.createElement("a");p.href=i,d=p.href}null!=u&&""!=u&&(c=u),s(d,r,c)}})},s=function(o,t,a){var l,r;if(n(),null!=t&&(l=t),type=null!=a&&""!=a?a:"GET",null!=o&&""!=o){window.stop();var u=new URL(o),s=window.location.host;if("GET"==type&&null!=l&&null!==l){var d=u.host.replace("www.",""),f=s.replace("www.","");"string"==typeof l&&""!=l&&(l=new URLSearchParams(l)),e.isArray(l)?e.each(l,function(e,n){null!=n.value&&""!=n.value?u.searchParams.set(n.name,n.value):u.searchParams.delete(n.name)}):"object"==typeof l&&e.each(l,function(e,n){null!=n&&""!=n?u.searchParams.set(e,n):u.searchParams.delete(e)})}f==d&&(r=u.href)}if(null!=r&&""!=r){var p=new XMLHttpRequest;i=e.ajax({url:o,type:type,data:l,xhr:function(){return p},beforeSend:function(){_pageLoadConfigs.scrollToTop&&e("html, body").animate({scrollTop:0},300),null!=_pageLoadConfigs.beforeSend&&null!==_pageLoadConfigs.beforeSend&&_pageLoadConfigs.beforeSend(r,l)},success:function(n){null!=p&&p.responseURL!=o&&(r=p.responseURL),null!=_pageLoadConfigs.onSuccess&&null!==_pageLoadConfigs.onSuccess?e.when(c(n,r,!0)).then(_pageLoadConfigs.onSuccess(r,l,n)):null!=n&&""!=n&&c(n,r,!0)},error:function(e,n){e.status>0&&c(e.responseText,r,!0),null!=_pageLoadConfigs.onError&&null!==_pageLoadConfigs.onError&&_pageLoadConfigs.onError(r,e,l)}})}},c=function(n,r,i){var s,c=new DOMParser;if(!o())return e("body").css({opacity:0,display:"none",overflow:"hidden"}),window.location.reload(),!1;if(null!=n&&""!=n&&(s=e(c.parseFromString(n,"text/html"))),null!=_pageLoadConfigs.onLoad&&null!==_pageLoadConfigs.onLoad){var d=_pageLoadConfigs.onLoad(s,r);null!=d&&d.length>0&&(s=d)}if(null!=i&&i&&window.history.pushState({data:n,href:r},"",r),null!=s&&s.length>0){var p=s.children("html"),h=p.children("head"),g=p.children("body"),m=[],L=[],v="",_=h.html(),C="";e(window).off(),e(document).off(),e(document.body).off();for(var w=1;w<99999;w++)window.clearInterval(w),window.clearTimeout(w);document=c.parseFromString(n,"text/html"),u(),e("head").children().each(function(){var n=!0,o=e(this),t=o.prop("outerHTML");if(null!=t&&""!=t){var a=o.attr("page-load-disable"),l=_.indexOf(t);if(null!=a&&("true"==a||"1"==a||!0===a)&&l>-1)n=!1;else if(o.is("script")){var r=o.attr("src");null!=r&&""!=r&&l>-1&&(n=!1)}else if(o.is("link")){var i=o.attr("href");null!=i&&""!=i&&l>-1&&(n=!1)}else l>-1&&(n=!1)}n?o.remove():m.push({html:t,element:o})}),h.children().each(function(){var n=e(this),o=n.prop("outerHTML"),t=m.findIndex(e=>e.html===o);if(t<0&&null!=C&&""!=C){var a=m.findIndex(e=>e.html===C);if(a>-1){var l=m[a];null!=l&&null!=l.element&&(e(o).insertAfter(l.element),m.push({html:o,element:l.element.next()}))}}C=o}),null!=_pageLoadConfigs.excludeElement&&_pageLoadConfigs.excludeElement.length>0&&e.each(_pageLoadConfigs.excludeElement,function(n,o){var t=e("body").children(o);null!=t&&t.length>0&&t.each(function(){var n=e(this).prop("outerHTML");L.push({tag:o,html:n,element:e(this)})})}),g.children().each(function(){var n=!0,o=e(this),t=o.prop("outerHTML");if(null!=t&&""!=t){var a=[],l=o.prop("tagName").toLowerCase();if(o.is("script")){var r=o.attr("src"),i=o.attr("page-load-exclude-js");null==i||!0!==i&&"true"!=i&&"1"!=i?null!=r&&""!=r&&null!=_pageLoadConfigs.excludeJS&&_pageLoadConfigs.excludeJS.length>0&&e.each(_pageLoadConfigs.excludeJS,function(e,o){-1!==r.indexOf(o)&&(n=!1)}):n=!1}if(null!=L&&L.length>0){var u=L.findIndex(e=>e.tag===l);if(u>-1)t=L[u].html,L.splice(u,1);else{a=f(o);a.length>0&&e.each(a,function(e,n){var o=L.findIndex(e=>e.tag===n);o>-1&&(t=L[o].html,L.splice(o,1))})}}}n&&(v+=t)}),null!=L&&L.length>0&&e.each(L,function(e,n){var o=n.html;null!=o&&""!=o&&(v+=o)});var b=a(v),x=b.list;for(t(b.html,document.body,!0);e("html")[0].attributes.length>0;)e("html")[0].removeAttributeNode(e("html")[0].attributes[0]);for(p[0].attributes.length>0&&e.each(p[0].attributes,function(n,o){if(this.specified&&null!=this.name){var t=this.name;o=this.value;null!=o?e("html").attr(t,o):e("html").attr(t,"")}});e("body")[0].attributes.length>0;)e("body")[0].removeAttributeNode(e("body")[0].attributes[0]);g[0].attributes.length>0&&e.each(g[0].attributes,function(n,o){if(this.specified&&null!=this.name){var t=this.name;o=this.value;null!=o?e("body").attr(t,o):e("body").attr(t,"")}}),l(x)}else window.location.reload()},d=function(e){var n=e.indexOf(".",e.lastIndexOf("/")+1);if(-1==n)return!1;var o=e.substr(n+1),t=o.search(/$|[?#]/);return o.substring(0,t)},f=function(n){var o=[],t=n.getAllAttrs();return e.each(t,function(n,t){switch(n){case"id":""!=t&&o.push("#"+t);break;case"class":if(""!=t){var a=t.split(" ");e.each(a,function(e,n){o.push("."+n)})}break;default:o.push("["+n+"]"),""!=t&&(o.push("["+n+'="'+t+'"]'),o.push("["+n+"='"+t+"']"))}}),o};e.fn.getAllAttrs=function(n){var o={};return e.each(this[0].attributes,function(){"value"!=this.name&&this.specified&&(o[this.name]=this.value)}),o}})(jQuery);